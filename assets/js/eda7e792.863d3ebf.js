"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[1721],{63808(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"server/ubuntu-oci","title":"Ubuntu","description":"Ubuntu Server related documentation","source":"@site/docs/server/ubuntu.md","sourceDirName":"server","slug":"/server/ubuntu-oci","permalink":"/site/docs/server/ubuntu-oci","draft":false,"unlisted":false,"editUrl":"https://github.com/AdrianoRuseler/site/edit/main/docs/server/ubuntu.md","tags":[],"version":"current","lastUpdatedBy":"Adriano Ruseler","lastUpdatedAt":1770222448000,"frontMatter":{"id":"ubuntu-oci","title":"Ubuntu","description":"Ubuntu Server related documentation"},"sidebar":"tutorialSidebar","previous":{"title":"Jenkins","permalink":"/site/docs/server/jenkins-oci"},"next":{"title":"Hardware","permalink":"/site/docs/hardware/folder"}}');var t=n(74848),i=n(28453);const a={id:"ubuntu-oci",title:"Ubuntu",description:"Ubuntu Server related documentation"},l=void 0,o={},c=[{value:"Ubuntu Server",id:"ubuntu-server",level:2},{value:"Swap File",id:"swap-file",level:3},{value:"Fine-Tuning (Swappiness)",id:"fine-tuning-swappiness",level:3},{value:"Reference",id:"reference",level:2}];function d(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"ubuntu-server",children:"Ubuntu Server"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://ubuntu.com/download/server",children:"https://ubuntu.com/download/server"})}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"swap-file",children:"Swap File"}),"\n",(0,t.jsx)(s.p,{children:"Check Current Swap Status"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo swapon --show\n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Create the 2G swap file:\r\nsudo fallocate -l 2G /swapfile\r\n\r\n# Secure the file:\r\nsudo chmod 600 /swapfile\r\n\r\n# Format and enable:\r\nsudo mkswap /swapfile\r\nsudo swapon /swapfile\r\n\r\n# Make it persistent:\r\necho '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n"})}),"\n",(0,t.jsx)(s.h3,{id:"fine-tuning-swappiness",children:"Fine-Tuning (Swappiness)"}),"\n",(0,t.jsx)(s.p,{children:"The Swappiness parameter defines how often your system uses the swap. It\u2019s a value between 0 and 100."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Low (e.g., 10): System avoids swap unless absolutely necessary (good for desktops)."}),"\n",(0,t.jsx)(s.li,{children:"High (e.g., 60+): System swaps more aggressively (standard for servers)."}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"cat /proc/sys/vm/swappiness\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Adjust Swappiness\r\nSince your RAM is very limited, you want the system to use RAM as much as possible and only hit the disk (swap) when it\u2019s truly getting tight. Set your swappiness to 10 or 20."}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo sysctl vm.swappiness=10\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Cache Pressure"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"This setting controls how the kernel tends to reclaim memory used for caching of directory and inode objects. On a small server, you want it to be a bit more aggressive in reclaiming that cache."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo sysctl vm.vfs_cache_pressure=50\n"})}),"\n",(0,t.jsx)(s.p,{children:"To save these settings permanently, add these two lines to the bottom of"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo nano /etc/sysctl.conf\n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"vm.swappiness=10\r\nvm.vfs_cache_pressure=50\n"})}),"\n",(0,t.jsx)(s.h2,{id:"reference",children:"Reference"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://gemini.google.com/share/6b9f7d8478cd",children:"https://gemini.google.com/share/6b9f7d8478cd"})}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453(e,s,n){n.d(s,{R:()=>a,x:()=>l});var r=n(96540);const t={},i=r.createContext(t);function a(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);